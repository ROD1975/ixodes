const form=document.querySelector(".contactForm__form"),btn=document.querySelector(".form__button"),errorMsg={name:{required:"Pleas type your name",minlenght:"Pleas type your name correctly"},email:{required:"Pleas type your email correctly"},subject:{required:"Pleas type about subject",minlenght:"To short subject"},message:{required:"Pleas type your message",minlenght:"To short message"}},displayError=e=>{document.querySelector(`.form__error--${e}`).innerHTML=errorMsg[e].required},validate=()=>{const e=form.name.value,r=form.email.value,t=form.subject.value,o=form.message.value;let s=!0;if(e.length<3&&(displayError("name"),s=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(displayError("email"),s=!1),t.length<3&&(displayError("subject"),s=!1),o.length<10&&(displayError("message"),s=!1),s)return!0},success=()=>{form.style.opacity="0.15",document.querySelector(".contactForm__response--success").style.visibility="visible",document.querySelector(".contactForm__response--success").style.opacity="1",document.querySelector("form input").setAttribute("disabled","disabled"),document.querySelector("form textarea").setAttribute("disabled","disabled")},error=()=>{document.querySelector(".contactForm__response--error").style.visibility="visible",document.querySelector(".contactForm__response--error").style.opacity="1"};form.addEventListener("submit",e=>{if(e.preventDefault(),validate()){const e=new FormData(form),r=new URLSearchParams;for(const t of e)r.append(t[0],t[1]);fetch("/odnowaixodes/process.php",{method:"POST",body:r}).then(e=>{if(!e.ok)throw Error;return e}).then(e=>{form.style.opacity="0.15",document.querySelector(".contactForm__response--success").style.visibility="visible",document.querySelector(".contactForm__response--success").style.opacity="1",document.querySelector("form input").setAttribute("disabled","disabled"),document.querySelector("form textarea").setAttribute("disabled","disabled")}).catch(e=>{document.querySelector(".contactForm__response--error").style.visibility="visible",document.querySelector(".contactForm__response--error").style.opacity="1"})}});